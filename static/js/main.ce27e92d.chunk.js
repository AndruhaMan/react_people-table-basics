(this["webpackJsonpreact_people-table-basics"]=this["webpackJsonpreact_people-table-basics"]||[]).push([[0],{36:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var n=c(23),s=(c(34),c(35),c(8)),r=c(3),a=(c(36),c(24)),l=c.n(a),j=c(2),i=function(){var e=function(e){var t=e.isActive;return l()("navbar-item",{"has-background-grey-lighter":t})};return Object(j.jsxs)("div",{"data-cy":"app",children:[Object(j.jsx)("nav",{"data-cy":"nav",className:"navbar is-fixed-top has-shadow",role:"navigation","aria-label":"main navigation",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"navbar-brand",children:[Object(j.jsx)(s.b,{className:e,to:"/",children:"Home"}),Object(j.jsx)(s.b,{className:e,to:"/people",children:"People"})]})})}),Object(j.jsx)("main",{className:"section",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(r.b,{})})})]})},o=function(){return Object(j.jsx)("h1",{className:"title",children:"Home Page"})},d=c(25),b=c(4),h=c(0),u=(c(38),function(){return Object(j.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(j.jsx)("div",{className:"Loader__content"})})});function O(){return(e=500,new Promise((function(t){return setTimeout(t,e)}))).then((function(){return fetch("https://mate-academy.github.io/react_people-table/api/people.json")})).then((function(e){return e.json()}));var e}var x=function(e){var t=e.person,c=e.setSelectedPersonSlug,n=t.name,r=t.slug,a=t.sex;return Object(j.jsx)(s.b,{to:r,onClick:function(){return c(r)},className:function(){return"f"===a?"has-text-danger":""},children:n})},m=function(e){var t=e.person,c=e.selectedPersonSlug,n=e.setSelectedPersonSlug,s=t.slug,r=t.sex,a=t.born,l=t.died,i=t.fatherName,o=t.motherName,d=t.mother,b=void 0===d?null:d,h=t.father,u=void 0===h?null:h;return Object(j.jsxs)("tr",{"data-cy":"person",className:s===c?"has-background-warning":"",children:[Object(j.jsx)("td",{children:Object(j.jsx)(x,{person:t,setSelectedPersonSlug:n})}),Object(j.jsx)("td",{children:r}),Object(j.jsx)("td",{children:a}),Object(j.jsx)("td",{children:l}),Object(j.jsx)("td",{children:b?Object(j.jsx)(x,{person:b,setSelectedPersonSlug:n}):o||"-"}),Object(j.jsx)("td",{children:u?Object(j.jsx)(x,{person:u,setSelectedPersonSlug:n}):i||"-"})]})},p=function(e){var t=e.people,c=e.selectedPersonSlug,n=e.setSelectedPersonSlug;return Object(j.jsxs)("table",{"data-cy":"peopleTable",className:"table is-striped is-hoverable is-narrow is-fullwidth",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Name"}),Object(j.jsx)("th",{children:"Sex"}),Object(j.jsx)("th",{children:"Born"}),Object(j.jsx)("th",{children:"Died"}),Object(j.jsx)("th",{children:"Mother"}),Object(j.jsx)("th",{children:"Father"})]})}),Object(j.jsx)("tbody",{children:t.map((function(e){return Object(j.jsx)(m,{person:e,selectedPersonSlug:c,setSelectedPersonSlug:n},e.slug)}))})]})},f=function(){var e=Object(r.r)().slug,t=Object(h.useState)([]),c=Object(b.a)(t,2),n=c[0],s=c[1],a=Object(h.useState)(e||""),l=Object(b.a)(a,2),i=l[0],o=l[1],x=Object(h.useState)(!1),m=Object(b.a)(x,2),f=m[0],g=m[1],v=Object(h.useState)(!1),S=Object(b.a)(v,2),N=S[0],P=S[1];Object(h.useEffect)((function(){P(!0),O().then((function(e){s(e.map((function(t){var c=Object(d.a)({},t),n=e.find((function(e){return e.name===t.motherName})),s=e.find((function(e){return e.name===t.fatherName}));return c.mother=n,c.father=s,c})))})).catch((function(){return g(!0)})).finally((function(){return P(!1)}))}),[]);var y=!f&&!N;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"title",children:"People Page"}),Object(j.jsx)("div",{className:"block",children:Object(j.jsxs)("div",{className:"box table-container",children:[N&&Object(j.jsx)(u,{}),f&&!N&&Object(j.jsx)("p",{"data-cy":"peopleLoadingError",className:"has-text-danger",children:"Something went wrong"}),y&&0===n.length&&Object(j.jsx)("p",{"data-cy":"noPeopleMessage",children:"There are no people on the server"}),y&&n.length>0&&Object(j.jsx)(p,{people:n,selectedPersonSlug:i,setSelectedPersonSlug:o})]})})]})},g=function(){return Object(j.jsx)("h1",{className:"title",children:"Page not found"})},v=function(){return Object(j.jsx)(s.a,{children:Object(j.jsxs)(r.e,{children:[Object(j.jsxs)(r.c,{element:Object(j.jsx)(i,{}),children:[Object(j.jsx)(r.c,{index:!0,element:Object(j.jsx)(o,{})}),Object(j.jsx)(r.c,{path:"people",element:Object(j.jsx)(f,{}),children:Object(j.jsx)(r.c,{path:":slug",element:Object(j.jsx)(f,{})})}),Object(j.jsx)(r.c,{path:"*",element:Object(j.jsx)(g,{})})]}),Object(j.jsx)(r.c,{path:"/home",element:Object(j.jsx)(r.a,{to:"/",replace:!0})})]})})};Object(n.createRoot)(document.getElementById("root")).render(Object(j.jsx)(v,{}))}},[[39,1,2]]]);
//# sourceMappingURL=main.ce27e92d.chunk.js.map